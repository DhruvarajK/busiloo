        :root {
            --color-redbus-red: #D32F2F;
            --color-text-primary: #333333;
            --color-text-secondary: #777777;
            --color-background: #f4f4f4;
            --color-surface: #ffffff;
            --color-border: #e0e0e0;
            --color-departed: #d84e55;
            --color-upcoming-dot: #cccccc;
            --font-primary: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            --color-traffic-alert: #ff9800; /* Color for traffic alerts */
        }
        * { 
            -webkit-tap-highlight-color: transparent; /* Removes tap highlight on all elements */
            -webkit-touch-callout: none;
        }

        body {
            font-family: var(--font-primary);
            margin: 0;
            padding: 0;
            background-color: var(--color-surface);
            color: var(--color-text-primary);
            padding-bottom: 90px;
        }
        .crowd-tooltip {
            position: absolute;
            display: inline-block;
            margin-left: 12px;
            border: 1px solid #cfcfcf;
            border-radius: 12px;
            padding: 4px 8px;
            font-size: 12px;
            color: #333;
            font-family: monospace;
            white-space: nowrap;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            cursor: help;
            transition: all 0.2s ease-in-out;
            max-width: 200px;
            min-width: 169px;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        /* Add this CSS to your stylesheet */
        .warning-symbol {
            color: orange; /* Or red, depending on your preference */
            margin-right: -3px; /* Adjust spacing as needed */
            font-size: 0.9em; /* Adjust size as needed */
        }

        .blinking {
            animation: blinker 1s linear(0 0%, 0.22 2.1%, 0.86 6.5%, 1.11 8.6%, 1.3 10.7%, 1.35 11.8%, 1.37 12.9%, 1.37 13.7%, 1.36 14.5%, 1.32 16.2%, 1.03 21.8%, 0.94 24%, 0.89 25.9%, 0.88 26.85%, 0.87 27.8%, 0.87 29.25%, 0.88 30.7%, 0.91 32.4%, 0.98 36.4%, 1.01 38.3%, 1.04 40.5%, 1.05 42.7%, 1.05 44.1%, 1.04 45.7%, 1 53.3%, 0.99 55.4%, 0.98 57.5%, 0.99 60.7%, 1 68.1%, 1.01 72.2%, 1 86.7%, 1 100%) infinite;
        }

        @keyframes blinker {
            50% {
                opacity: 0;
            }
        }
        
        /* Optional: Add a hover effect for more details, if needed */
        .crowd-tooltip:hover {
            overflow: visible;
            white-space: normal;
            max-width: none;
            z-index: 10;
        } 
        
        
        .crowd-tooltip strong {
            font-weight: bold;
        }
        
        .crowd-tooltip em {
            font-style: italic;
        }
        
        .crowd-report-time {
            display: block; /* Puts the time on a new line */
            font-size: 0.9em;
            color: #666;
            margin-top: 2px;
        }
        

        /* --- Header --- */
        .header {
            background-color: var(--color-redbus-red);
            color: white;
            padding: 11px 15px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            display: flex;
            align-items: center;
            justify-content: flex-start;
            font-size: 15px;
        }

        .header h2, .header p {
            margin: 0;
            font-weight: normal;
        }
        .header h2 {
            font-size: 1.4em;
            font-weight: 600;
        }
        .header p {
            font-size: 0.9em;
            opacity: 0.9;
        }
        .header .back-btn {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            margin-right: 15px;
        }
        .header .back-btn svg { width: 28px; height: 28px; }

        /* --- Controls & Main Content --- */
        .top-controls {
            padding: 10px 20px;
            background: #fafafa;
            font-size: 0.85em;
            color: var(--color-text-secondary);
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--color-border);
        }
        #time-toggle {
            border: 1px solid #ccc;
            background: #fff;
            padding: 6px 10px;
            border-radius: 16px;
            cursor: pointer;
            font-size: 0.9em;
            transition: background-color 0.2s;
        }
        #time-toggle:hover {
            background-color: #f0f0f0;
        }

        .main-container {
            padding: 0px;
        }
        .a1-las{
            display: flex;
            width: inherit;
            padding-top: 6px;
            align-items: center;
            gap: 20px;     
        }
        
        /* --- Timeline Card --- */
        .timeline-card {
            background: var(--color-surface);
            border-radius: 12px;
            padding: 40px 10px;
        }

        .timeline-container {
            position: relative;
            margin: 0;
            width: 100%;
        }

        .timeline-line {
            position: absolute;
            left: 13.4px;
            top: 10px;
            bottom: 20px;
            width: 15px;
            background: var(--color-border);
            border-radius: 7px;
        }
        
        .disclaimer {
            font-size: 0.8em;
            color: var(--color-text-secondary);
            text-align: center;
            padding: 10px 20px;
            background-color: #fffaf0;
            border: 1px solid #ffeedb;
            border-radius: 8px;
            margin: 10px;
        }

        /* --- Timeline Stops --- */
        .stop {
            position: absolute;
            width: 100%;
            display: flex;
            align-items: flex-start;
        }

        .stop-dot {
            position: absolute;
            top: 11px;
            left: 21px;
            width: 7px;
            height: 7px;
            background: var(--color-surface);
            border: 4px solid #707070;
            border-radius: 50%;
            transform: translateX(-50%);
            z-index: 2;
            transition: border-color 0.5s ease;
        }

        .stop-details {
            padding-left: 50px;
            padding-bottom: 11px;
            margin-top: 7px;
        }
        
        .stop-name {
            font-weight: 500;
            font-size: 14px;
            font-family: system-ui;
            text-overflow: ellipsis;
            width: 160px;
            overflow: hidden;
        }
        .stop-time {
            font-size: 14px;
            color: var(--color-text-secondary);
            margin-top: 2px;
            font-family: monospace;
        }
        .eta-time {
            font-size: 14px;
            font-weight: 600;
            color: var(--color-redbus-red);
            font-family: monospace;
            width: 120px;
        }
        .loc-link {
            color: #878787;
            text-decoration: none;
            font-size: 10px;
            font-weight: 600;
            display: inline-block;
            margin: 0;
            font-family: system-ui;
            border: 1px solid #e2e2e2;
            border-radius: 19px;
            padding: 4px 5px 4px 5px;
            display: flex;
            align-items: center;
            flex-direction: row;
        }
        .loc-link:hover {
            text-decoration: none;
            border: 1px solid var(--color-redbus-red);
        }

        /* --- Departed State --- */
        .stop.departed .stop-dot {
            border-color: var(--color-departed);
            background-color: var(--color-departed);
        }
        .stop.departed .stop-name {
            color: var(--color-text-secondary);
            opacity: 0.8;
        }
        .departed-icon {
            display: none;
        }

        /* --- Bus Marker --- */
        .bus-marker {
            position: absolute;
            left: 21px;
            width: 31px;
            height: 31px;
            transform: translateX(-50%);
            background: var(--color-redbus-red);
            border: 3px solid white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            border-radius: 50%;
            transition: top 1s linear;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #ffffff;
            z-index: 5;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(216, 78, 85, 0.7); }
            70% { box-shadow: 0 0 0 12px rgba(216, 78, 85, 0); }
            100% { box-shadow: 0 0 0 0 rgba(216, 78, 85, 0); }
        }

        /* --- NEW: Traffic Alert Styling --- */
        .traffic-alert {
            font-size: 0.85em;
            color: var(--color-traffic-alert);
            background-color: #fff8e1;
            border-left: 4px solid var(--color-traffic-alert);
            padding: 8px 12px;
            margin-top: 8px;
            border-radius: 4px;
        }
        .traffic-alert strong {
            color: #e65100;
        }

        /* --- Crowd Prediction & Submission --- */
        #crowd-section {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--color-surface);
            padding: 15px 20px;
            box-shadow: 0 -2px 8px rgba(0,0,0,0.1);
            z-index: 90;
            font-size: 0.9em;
            border-radius: 24px 24px 0 0;
        }
        #crowd-prediction p {
            margin: 0 0 10px 0;
        }
        #crowd-section label {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* --- Modal Styles --- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
        }
        .modal-content {
            background: var(--color-surface);
            padding: 25px 30px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            width: 90%;
            max-width: 400px;
            position: relative;
        }
        .modal-content h3 {
            margin-top: 0;
            font-size: 1.5em;
            color: var(--color-text-primary);
        }
        .close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 28px;
            font-weight: bold;
            color: #aaa;
            cursor: pointer;
        }
        .close-btn:hover { color: #333; }

        #crowd-form select {
            width: 100%;
            padding: 12px;
            margin: 15px 0;
            border-radius: 8px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
            font-size: 1em;
        }
        #submit-crowd-btn {
            width: 100%;
            padding: 14px;
            border: none;
            background-color: var(--color-redbus-red);
            color: white;
            font-size: 1.1em;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        #submit-crowd-btn:hover {
            background-color: #c5424b;
        }
        #scroll-to-bus-btn {
            display: none;
            position: fixed;
            bottom: 80px;
            right: 20px;
            z-index: 1000;
            padding: 10px;
            border: none;
            border-radius: 50%;
            background: var(--color-redbus-red);
            color: white;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
            align-items: center;
            justify-content: center;
}

          /* Tooltip style */
          #bus-marker .bus-tooltip {
            position: absolute;
            top: -6px;
            left: 140px;
            transform: translateX(-50%);
            background: var(--color-redbus-red);
            color: #fff;
            padding: 14px 8px;
            border-radius: 3px;
            white-space: nowrap;
            font-size: 12px;
            pointer-events: none;
            backdrop-filter: blur(17px); /* Applies blur to area behind tooltip */
            -webkit-backdrop-filter: blur(3px); /* For Safari */
            box-shadow: 0px 0px 6px  5px rgb(255 255 255); /* Optional subtle shadow */
            z-index: 1000;
        }

          #bus-marker .bus-tooltip::before {
            content: '';
            position: absolute;
            top: 50%;
            left: -6px; /* Adjust how far left it appears */
            transform: translateY(-50%);
            width: 0;
            height: 0;
            border-top: 8px solid transparent;
            border-bottom: 8px solid transparent;
            border-right: 10px solid var(--color-redbus-red); /* Match tooltip background */
        }


